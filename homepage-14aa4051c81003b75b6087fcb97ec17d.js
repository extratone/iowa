!function($){var methods={init:function(options){return this.each(function(){{var $this=$(this);$this.data("bbypopup")}options=$.extend({},$.fn.bbypopup.defaults,options);var htmlData=$this.data();for(var key in htmlData)if(-1!=key.indexOf("bbypopup")){var name=key.replace("bbypopup","").toLowerCase();if(void 0!=$.fn.bbypopup.defaults[name]){var value=htmlData[key];options[name]=value}}$this.data("bbypopup",{target:$this,options:options,internal:{}});var newWindow,winLeft,winTop,url=$this.attr("href"),features="toolbar="+options.toolbar+",location="+options.location+",status="+options.status+",menubar="+options.menubar+",scrollbars="+options.scrollbars+",resizable="+options.resizable+",width="+options.width+",height="+options.height,name=options.name;$this.attr("href","#"),$this.click(function(){return options.center&&(winLeft=(screen.width-parseInt(options.width))/2,winTop=(screen.height-parseInt(options.height))/2,features=features+",left="+winLeft+",top="+winTop),newWindow=window.open(url,name,features),newWindow.focus(),!1})})}};$.fn.bbypopup=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?($.error("Method "+method+" does not exist on jQuery.bbypopup"),void 0):methods.init.apply(this,arguments)},$.fn.bbypopup.defaults={name:"popup",status:"no",toolbar:"no",location:"no",menubar:"no",resizable:"yes",scrollbars:"yes",width:600,height:500,center:!0}}(jQuery);var HotDealsView=Backbone.View.extend({events:{"click img#hot-deals-left-arrow-image":"onLeftScroll","click img#hot-deals-right-arrow-image":"onRightScroll"},initialize:function(){this.render()},render:function(){var $this=this;$this.$pageCounter=$("span#hot-deals-page-counter"),$this.$currentCounter=$("span#current-counter"),$this.$totalPages=$("span#total-pages"),$this.$scroller=$("div#hot-deals-scroller"),$this.$header=$(".hot-deals-header"),$this.headerImage=$this.$header.data("header-image"),$this.$header.css("background","url("+$this.headerImage+") repeat-x"),$this.currentPage=parseInt($this.$currentCounter.text()),$this.skuCount=parseInt($this.$pageCounter.data("sku-count")),$this.totalPages=Math.ceil($this.skuCount/4),$this.$totalPages.html($this.totalPages),$("div.product-text").each(function(index,value){var $value=$(value),pdpLink=$value.find("div.product-headline>a").attr("href"),seePrice=$value.find("a.see-in-cart-link");seePrice.length>0&&$(seePrice).attr("href",pdpLink)})},onLeftScroll:function(){var $this=this;$this.currentPage>1&&($this.$scroller.scrollLeft(840*($this.currentPage-2)),$this.currentPage--,$this.$currentCounter.html($this.currentPage))},onRightScroll:function(){var $this=this;$this.currentPage<$this.totalPages&&($this.$scroller.scrollLeft(840*$this.currentPage),$this.currentPage++,$this.$currentCounter.html($this.currentPage))}});$(function(){"undefined"!=typeof bby&&bby.fireDelayedQueue(),$("a.widgetModal").colorbox({iframe:!0,innerWidth:485,innerHeight:500,transition:"none",opacity:.5,returnFocus:!1,scrolling:!1}),globalNavigation.init(),$(".bbypopup").bbypopup(),window.devicePixelRatio>1&&$("img.hidpi").each(function(index,image){if($(image).parents(".carousel-wrapper")){var source=$(image).data("retina-src");"undefined"!=typeof source&&$(image).attr("src",source)}else{var src=$(image).attr("src"),ext=src.substring(src.lastIndexOf("."),src.length);src=src.replace(ext,"@2x"+ext),$(image).attr("src",src)}}),require(["FrameBusterHelper"],function(FrameBusterHelper){new FrameBusterHelper({whitelist:$("#framebuster-whitelist").data("framebuster-whitelist"),redirect:!0})}),require(["EnvironmentCheckerView"],function(EnvironmentCheckerView){new EnvironmentCheckerView({el:$("#environment-check")})});new HotDealsView({el:$(".hot-deals-container")});require(["tooltips"],function(){$(".bbytooltip-trigger").bbytooltip()})});